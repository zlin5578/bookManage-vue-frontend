{"remainingRequest":"/Users/zhipengling/NodeTest/vuetest/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhipengling/NodeTest/vuetest/src/views/BookManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhipengling/NodeTest/vuetest/src/views/BookManage.vue","mtime":1597109327764},{"path":"/Users/zhipengling/NodeTest/vuetest/node_modules/cache-loader/dist/cjs.js","mtime":1596424429198},{"path":"/Users/zhipengling/NodeTest/vuetest/node_modules/babel-loader/lib/index.js","mtime":1596424429194},{"path":"/Users/zhipengling/NodeTest/vuetest/node_modules/cache-loader/dist/cjs.js","mtime":1596424429198},{"path":"/Users/zhipengling/NodeTest/vuetest/node_modules/vue-loader/lib/index.js","mtime":1596424434923}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG1ldGhvZHM6IHsKICAgICAgICBlZGl0KHJvdykgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBwYXRoOiAnL1VwZGF0ZScsCiAgICAgICAgICAgICAgICBxdWVyeTp7CiAgICAgICAgICAgICAgICAgICAgaWQ6cm93LmlkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgIC8vIHJvdy5pZDsKICAgICAgICB9LAogICAgICAgIGRlbGV0ZUJvb2socm93KXsKICAgICAgICAgICAgY29uc3QgX3RoaXMgPXRoaXMKICAgICAgICAgICAgYXhpb3MuZGVsZXRlKCdodHRwOi8vbG9jYWxob3N0OjgxODEvYm9vay9kZWxldGVCeUlkLycrcm93LmlkKS50aGVuKGZ1bmN0aW9uKHJlc3ApewogICAgICAgICAgICAgICAgX3RoaXMuJGFsZXJ0KCfjgIonK3Jvdy5uYW1lKyfjgIsg5Yig6Zmk5oiQ5YqfJywgJ+aIkOWKnycsIHsKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGFjdGlvbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8v5pys5p2l5bCx5Zyo6L+Z5Liq6aG16Z2i77yM5omA5LulcHVzaOayoeeUqO+8jOi/mOaYr+mcgOimgeWKqOaAgeWIt+aWsAogICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvQm9va01hbmFnZScpCiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgcGFnZShjdXJyZW50UGFnZSl7CiAgICAgICAgICAgIGNvbnN0IF90aGlzPXRoaXMKICAgICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgxODEvYm9vay9maW5kQWxsLycrY3VycmVudFBhZ2UrJy82JykudGhlbihmdW5jdGlvbihyZXNwKXsKICAgICAgICAgICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlc3AuZGF0YS5jb250ZW50OwogICAgICAgICAgICAgICAgX3RoaXMudG90YWxFbGVtZW50cyA9IHJlc3AuZGF0YS50b3RhbEVsZW1lbnRzOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICB9LAoKICAgIGNyZWF0ZWQoKXsKICAgICAgICBjb25zdCBfdGhpcz10aGlzCiAgICAgICAgYWxlcnQoMTIzKTsKICAgICAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODE4MS9ib29rL2ZpbmRBbGwvMS82JykudGhlbihmdW5jdGlvbihyZXNwKXsKICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzcC5kYXRhLmNvbnRlbnQ7CiAgICAgICAgICAgIF90aGlzLnRvdGFsRWxlbWVudHMgPSByZXNwLmRhdGEudG90YWxFbGVtZW50czsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhLmNvbnRlbnQpOwogICAgICAgIH0pCiAgICB9LAoKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdG90YWxFbGVtZW50czogbnVsbCwKICAgICAgICAgICAgdGFibGVEYXRhOiBbewogICAgICAgICAgICAgICAgaWQ6ICcxJywKICAgICAgICAgICAgICAgIG5hbWU6ICfop6Plv6fmnYLotKflupcnLAogICAgICAgICAgICAgICAgYXV0aG9yOiAn5Lic6YeO5Zyt5ZC+JywKCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGlkOiAnMicsCiAgICAgICAgICAgICAgICBuYW1lOiAn6L+96aOO562d55qE5Lq6JywKICAgICAgICAgICAgICAgIGF1dGhvcjogJ+WNoeWLkuW+t8K36IOh6LWb5bC8JywKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgaWQ6ICczJywKICAgICAgICAgICAgICAgIG5hbWU6ICfkurrpl7TlpLHmoLwnLAogICAgICAgICAgICAgICAgYXV0aG9yOiAn5aSq5a6w5rK7JywKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgaWQ6ICc0JywKICAgICAgICAgICAgICAgIG5hbWU6ICfov5nlsLHmmK/kuozljYHlm5voioLmsJQnLAogICAgICAgICAgICAgICAgYXV0aG9yOiAn6auY5pil6aaZJywKICAgICAgICAgICAgfV0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["BookManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookManage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <el-table\n                :data=\"tableData\"\n                border\n                style=\"width: 100%\">\n            <el-table-column\n                    fixed\n                    prop=\"id\"\n                    label=\"编号\"\n                    width=\"150\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"name\"\n                    label=\"书名\"\n                    width=\"120\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"author\"\n                    label=\"作者\"\n                    width=\"120\">\n            </el-table-column>\n            <el-table-column\n                    label=\"操作\"\n                    width=\"100\">\n                <template slot-scope=\"scope\">\n                    <el-button @click=\"edit(scope.row)\" type=\"text\" size=\"small\">修改</el-button>\n                    <el-button @click=\"deleteBook(scope.row)\" type=\"text\" size=\"small\">删除</el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n        <el-pagination\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"6\"\n                :total= totalElements\n                @current-change=\"page\">\n        </el-pagination>\n    </div>\n\n</template>\n\n<script>\n    export default {\n        methods: {\n            edit(row) {\n                this.$router.push({\n                    path: '/Update',\n                    query:{\n                        id:row.id\n                    }\n                });\n               // row.id;\n            },\n            deleteBook(row){\n                const _this =this\n                axios.delete('http://localhost:8181/book/deleteById/'+row.id).then(function(resp){\n                    _this.$alert('《'+row.name+'》 删除成功', '成功', {\n                        confirmButtonText: '确定',\n                        callback: action => {\n                            //本来就在这个页面，所以push没用，还是需要动态刷新\n                            //     _this.$router.push('/BookManage')\n                            window.location.reload();\n\n                        }\n                    });\n                })\n            },\n\n            page(currentPage){\n                const _this=this\n                axios.get('http://localhost:8181/book/findAll/'+currentPage+'/6').then(function(resp){\n                    _this.tableData = resp.data.content;\n                    _this.totalElements = resp.data.totalElements;\n                })\n            },\n        },\n\n        created(){\n            const _this=this\n            alert(123);\n            axios.get('http://localhost:8181/book/findAll/1/6').then(function(resp){\n                _this.tableData = resp.data.content;\n                _this.totalElements = resp.data.totalElements;\n                console.log(resp.data.content);\n            })\n        },\n\n        data() {\n            return {\n                totalElements: null,\n                tableData: [{\n                    id: '1',\n                    name: '解忧杂货店',\n                    author: '东野圭吾',\n\n                }, {\n                    id: '2',\n                    name: '追风筝的人',\n                    author: '卡勒德·胡赛尼',\n                }, {\n                    id: '3',\n                    name: '人间失格',\n                    author: '太宰治',\n                }, {\n                    id: '4',\n                    name: '这就是二十四节气',\n                    author: '高春香',\n                }]\n            }\n        }\n    }\n</script>"]}]}